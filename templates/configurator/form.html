{% extends 'general/general.html' %}
{% load static %}
{% block content %}

<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
<link rel="stylesheet" media="all" type="text/css" href="{% static 'configurator/css/configurator.css' %}">
<style>
* {
  box-sizing: border-box;
}

body {
  background-color: #f1f1f1;
}

#regForm {
  background-color: #ffffff;
  margin: 100px auto;
  font-family: Raleway;
  padding: 10px;
  /* width: 90%; */
  min-width: 300px;
  margin-bottom: 200px;
}

h1 {
  text-align: center;  
}

input {
  /* padding: 10px; */
  font-size: 17px;
  font-family: Raleway;
  left: 10px;
  border: 1px solid #aaaaaa;
  display: inline-block;
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
  background-color: #ffdddd;
}

.checkbox-wrapper {
  flex: 0 0 auto;
  /* width: calc(33% - 44px); */
  /* width: calc(48%); */
  
  /* border-style: solid;
  border-color: rgb(100, 100, 100);
  border-radius: 10px; */
  /* width: 23%; */
  /* height: 85px; */


  /* margin-right: 22px;
  margin-left: 22px; */
  margin-right: 2px;
  margin-left: 2px;
  min-width: 170px;
  
  
  /* margin-top: 9px; */
  /* margin-bottom: 9px; */
  /* display: inline-block; */
  /* padding-left: 10px; */
  display: inline-flex;
}

.checkbox-wrapper2 {
  flex: 0 0 auto;
  margin-right: 2px;
  margin-left: 2px;
  min-width: 170px;
  display: inline-flex;
}





/* .checkbox>input[type=checkbox] {
    -webkit-appearance: none;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    height: 20px;
    width: 20px;
    background-color: #fff;
    border-radius: 50%;
}

.checkbox>input[type=checkbox] {
    margin-right: 12px;
    cursor: pointer;
    flex-shrink: 0;
    position: relative;
} */

.switch-input {
    margin-left: 0px;
    z-index: 0;
}

.switch-input-simple {
  margin-left: 12px;
  margin-right: 12px;
  z-index: 0;
}

.switch {
    position: relative;
    background-color: #fff;
    width: 100%;
    outline: none;
}

.check {
    display: inline-flex;
    align-items: center;
}

.switch__checkbox, .switch__radio {
    width: 100%;
    height: 100%;
}

/* @media screen and (min-width: 651px)  */
.color-wrapper {
    justify-content: flex-start;
}




.checkbox-label {
    border: 2px solid rgba(0,0,0,.20);
    /* user-select: none; */
    cursor: pointer;
    width: 100%;
    max-width: 200px;
    height: 100%;
    padding: 10px 10px 10px 10px;
    /* border-radius: 6px; */
    /* color: rgba(0,0,0); */
    /* text-align: left; */
    /* transition: border .15s ease-in,box-shadow .15s ease-in; */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.checkbox-wrapper .tooltiptext {
  visibility: hidden;
  width: 14%;
  /* height: 12%; */
  background-color: rgba(255, 255, 255, 0.65);
  text-align: center;
  border: 2px solid rgba(0,0,0,.20);
  padding: 5px 0;

  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.checkbox-wrapper:hover .tooltiptext {
  visibility: visible;
}

.checkbox-label-simple {
    border: 2px solid rgba(0,0,0,.20);
    /* user-select: none; */
    cursor: pointer;
    width: 100%;
    /* height: 94px; */
    padding: 10px 25px 10px 10px;
    /* border-radius: 6px; */
    /* color: rgba(0,0,0); */
    /* text-align: left; */
    /* transition: border .15s ease-in,box-shadow .15s ease-in; */
    /* display: flex;
    justify-content: space-evenly;
    align-items: center; */
    font-size: 5vw;
}

.colour-chooser__switch-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Hide all steps by default: */
.tab {
  display: none;
  min-height: 100%;
}

button {
  background-color: black;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Raleway;
  cursor: pointer;
  z-index: 10;
}

button:hover {
  opacity: 0.8;
}

#prevBtn {
  background-color: #bbbbbb;
}

/* Make circles that indicate the steps of the form: */
.step {
  height: 10px;
  width: 90px;
  margin: 0 2px;
  background-color: #bbbbbb;
  border: none;  
  border-radius: 5%;
  display: inline-block;
  opacity: 0.5;
}

.step.active {
  opacity: 1;
}

/* Mark the steps that are finished and valid: */
.step.finish {
  background-color: black;
}

.imgshow {
  display: none;
  max-width: 100%;
}

.firsttab {
  position: relative;
  background: rgb(255, 255, 255);
}

.firsttab .firsttab-left {
width: 70%;
height: 100%;
background: rgb(255, 255, 255);
position: relative;
}

.firsttab .firsttab-right {
width: 30%;
height: 100%;
padding-top: 10%;
left: 70%;
top: 0%;
background: rgb(255, 255, 255);
position: absolute;
}

.secondtab {
  display: flex;
  flex-wrap: wrap;
}


.thirdtab {
  padding-top: 35px;
  position: relative;
  background: rgb(255, 255, 255);
  width: 100%;
  min-height: 340px;
}

.thirdtab .thirdtab-left {
  padding-left: 2%;
  padding-right: 2%;
  width: 40%;
  height: 100%;
  background: rgb(255, 255, 255);
  position: relative;
}

.thirdtab .thirdtab-right {
  width: 60%;
  left: 40%;
  top: 0%;
  margin-top: 35px;
  height: calc(100% - 35px);
  background:rgb(255, 255, 255);
  position: absolute;
}

.drivetraininfo {
  background:rgb(255, 255, 255);
  height: 100%;
  display: none;
  max-width: 100%;
  border-left: 2px solid rgba(0,0,0,.20);
  padding: 0% 10% 0% 10%;
}

.defaultversion {
  padding: 10% 10% 10% 10%;
  display: block;
}

.colorpicker {
  display: flex;
}

.column {
  flex: 50%;
  padding: 10px;
  border-right: 2px solid rgba(0,0,0,.20);
}

.paint-image {
  min-height: 70px;
  width: calc(85%);
  max-width: 150px;
}


.version {
  margin: 2px;
  background-color: rgb(255, 255, 255);
  color: rgb(0, 0, 0);
  border: 2px solid rgba(0,0,0,.20);
  text-align: left;
  min-width: 180px;
}

.fuel-gearbox-mini {
  display: none;
}

/* <Tab1> */
@media screen and (max-width: 814px) {
  #regForm {
    margin: 30px auto;
  }

  .step {
    height: 10px;
    width: 10px;
    /* margin: 0 2px; */
    background-color: #bbbbbb;
    border: none;  
    border-radius: 5%;
    display: inline-block;
    opacity: 0.5;
  }

  .firsttab {
    position: relative;
    background: rgb(255, 255, 255);
  }

  .firsttab .firsttab-left {
    width: 100%;
    height: 70%;
    background: rgb(255, 255, 255);
    position: relative;
  }

  .firsttab .firsttab-right {
    width: 50%;
    height: 25%;
    top: 58%;
    left: 10%;
    /* top: 0%; */
    background: rgb(255, 255, 255, .0);
    position: absolute;
  }

  .button1 {
    /* min-width: 10%; */
    text-align: left;
    border-top-style: solid;
    border-color: rgb(160, 160, 160);
    color: rgb(100, 100, 100);
    /* max-width: 32%; */
    display: inline-block;
    background: rgb(255, 255, 255);
    padding-left: 2px;
    padding-top: 1px;
    height: 25px;
    /* width: 50px; */
    font-size: 12px;

  }

  .card-title {
    font-size: 3vw;
  }

  .button1:hover {
    border-color: rgb(0, 0, 0);
    border-width: 10px;
    color: rgb(0, 0, 0);
  }

  .button1:focus {
    border-color: rgb(0, 0, 0);
    border-width: 10px;
    color: rgb(0, 0, 0);
  }
  

  .sub-title {
    font-size: 6vw;
    margin-top: -40vw;
    margin-bottom: 35vw;
  }
}
@media screen and (min-width: 815px) and (max-width: 1140px) {
  .step {
    height: 10px;
    width: 10px;
    margin: 0 2px;
    background-color: #bbbbbb;
    border: none;  
    border-radius: 5%;
    display: inline-block;
    opacity: 0.5;
  }

  .firsttab {
    position: relative;
    background: rgb(255, 255, 255);
  }

  .firsttab .firsttab-left {
    width: 100%;
    height: 70%;
    background: rgb(255, 255, 255);
    position: relative;
  }

  .firsttab .firsttab-right {
    width: 50%;
    height: 25%;
    top: 58%;
    left: 10%;
    /* top: 0%; */
    background: rgb(255, 255, 255, .0);
    position: absolute;
  }

  .button1 {
    /* min-width: 10%; */
    text-align: left;
    border-top-style: solid;
    border-color: rgb(160, 160, 160);
    color: rgb(100, 100, 100);
    max-width: 30%;
    display: inline-block;
    background: rgb(255, 255, 255);
    padding-left: 2px;
    padding-top: 1px;
  }

  .card-title {
    font-size: 3vw;
  }

  .button1:hover {
    border-color: rgb(0, 0, 0);
    border-width: 10px;
    color: rgb(0, 0, 0);
  }

  .button1:focus {
    border-color: rgb(0, 0, 0);
    border-width: 10px;
    color: rgb(0, 0, 0);
  }

  .sub-title {
    font-size: 5vw;
  }
  
}
/* </Tab1> */


/* <Tab4&2> */
@media screen and (min-width: 1141px) {
  .button1 {

    min-width: 50%;
    text-align: left;
    border-left-style: solid;
    border-color: rgb(160, 160, 160);
    color: rgb(100, 100, 100);
    width: 50%;
    display: block;
    background: rgb(255, 255, 255);
    margin-bottom: 5px;
    padding-left: 8px;
    /* padding-top: 1px; */

  }

  .button1:hover {
    border-color: rgb(0, 0, 0);
    border-width: 10px;
    color: rgb(0, 0, 0);
  }

  .button1:focus {
    border-color: rgb(0, 0, 0);
    border-width: 10px;
    color: rgb(0, 0, 0);
  }

  .card-title {
    font-size: 2vw;
  }

  .sub-title {
    font-size: 3vw;
  }
}
@media screen and (min-width: 1251px) {
  .checkbox-wrapper2 {
    min-height: 5vw;
    margin-left: 10px;
    margin-right: 10px;
    width: calc(33% - 16px);
  }

  .checkbox-label-simple {
    padding: 0px 0px 0px 0px;
    font-size: 3vw;
  }
  
}
@media screen and (min-width: 831px) and (max-width: 1250px) {
  .checkbox-wrapper {
    width: calc(49% - 44px);
  }

  .checkbox-wrapper2 {
    min-width: 96px;
    margin-left: 10px;
    margin-right: 10px;
    width: calc(33% - 18px);
  }

  .checkbox-label-simple {
    padding: 0px 0px 0px 0px;
    font-size: 3vw;
  }
}
@media screen and (max-width: 830px) {
  .checkbox-wrapper {
    width: calc(100% - 44px);
  }

  .checkbox-wrapper2 {
    width: calc(100% - 44px);
  }
}
@media screen and (max-width: 890px) {
  .column {
  flex: 50%;
  padding: 10px;
  /* border-right: none; */
  }
  
  .checkbox-label {
    border: 2px solid rgba(0,0,0,.20);
    /* user-select: none; */
    cursor: pointer;
    width: 95px;
    max-width: 200px;
    height: 100%;
    padding: 1px 1px 1px 1px;
    /* border-radius: 6px; */
    /* color: rgba(0,0,0); */
    /* text-align: left; */
    /* transition: border .15s ease-in,box-shadow .15s ease-in; */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2px;
  }

  .checkbox-label-simple {
    padding: 10px 2px 10px 10px;
  }

  .paint-image {
    /* min-height: 70px; */
    width: 75px;
    height: 75px;
    /* max-width: 150px; */
  }


  .checkbox-wrapper {
    min-width: 96px;
    margin-right: 0px;
    margin-left: 0px;
  }

  .checkbox-wrapper2 {
    min-width: 96px;
    margin-left: 4px;
    margin-right: 4px;
    width: 32%;
  }
}
@media screen and (max-width: 630px) {
  .colorpicker {
  display: block;
  }
  .column {
  flex: 50%;
  padding: 10px;
  border-right: none;
  }
  
  .checkbox-label {
    border: 2px solid rgba(0,0,0,.20);
    /* user-select: none; */
    cursor: pointer;
    width: 95px;
    max-width: 200px;
    height: 100%;
    padding: 1px 1px 1px 1px;
    /* border-radius: 6px; */
    /* color: rgba(0,0,0); */
    /* text-align: left; */
    /* transition: border .15s ease-in,box-shadow .15s ease-in; */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2px;
  }

  .paint-image {
    /* min-height: 70px; */
    width: 75px;
    height: 75px;
    /* max-width: 150px; */
  }


  .checkbox-wrapper {
    min-width: 96px;
    margin-right: 0px;
    margin-left: 0px;
    display: inline-block;
    width: 100%;
  }

  .checkbox-wrapper2 {
    min-width: 96px;
    margin-right: 5px;
    margin-left: 5px;
    display: inline-block;
    width: 47%;
  }
}
/* </Tab4&2> */



/* <Tab3> */
@media screen and (min-width: 406px) and (max-width: 640px) { 
  .thirdtab {
    position: relative;
    background: rgb(255, 255, 255);
    width: 100%;
    min-height: 600px;
  }

  .thirdtab .thirdtab-left {
    width: 100%;
    height: 40%;
    background: rgb(255, 255, 255);
    position: relative;
  }

  .thirdtab .thirdtab-right {
    width: 100%;
    /* top: 25%; */
    left: 0%;
    height: 50%;
    background:rgb(255, 255, 255);
    position: relative;
  }

  .drivetraininfo {
    background:rgb(255, 255, 255);
    height: 100%;
    display: none;
    max-width: 100%;
    border-top: 2px solid rgba(0,0,0,.20);
    border-left: none;
    padding: 3% 10% 0% 10%;
  }

  .defaultversion {
    padding: 10% 10% 10% 10%;
    display: block;
  }
  

  .version {
    margin: 1px;
    background-color: rgb(255, 255, 255);
    color: rgb(0, 0, 0);
    border: 2px solid rgba(0,0,0,.20);
    text-align: left;
    width: 80px;
    padding: 2px 2px 2px 2px;
  }

  .card-body {
    padding: 0px 0px 0px 15px;
  }

}
@media screen and (max-width: 405px) {
  .thirdtab {
    position: relative;
    background: rgb(255, 255, 255);
    width: 100%;
    min-height: 600px;
  }

  .thirdtab .thirdtab-left {
    width: 100%;
    height: 40%;
    background: rgb(255, 255, 255);
    position: relative;
  }

  .thirdtab .thirdtab-right {
    width: 100%;
    left: 0%;
    height: 50%;
    background:rgb(255, 255, 255);
    position: relative;
  }

  .drivetraininfo {
    background:rgb(255, 255, 255);
    height: 100%;
    display: none;
    max-width: 100%;
    border-top: 2px solid rgba(0,0,0,.20);
    border-left: none;
    padding: 3% 10% 0% 10%;
  }

  .defaultversion {
    padding: 10% 10% 10% 10%;
    display: block;
  }
  

  .version {
    margin: 1px;
    background-color: rgb(255, 255, 255);
    color: rgb(0, 0, 0);
    border: 2px solid rgba(0,0,0,.20);
    text-align: left;
    width: 48%;
    min-width: 10px;
    padding: 2px 2px 2px 2px;
  }

  .card-title2 {
    font-size: 8vw;
    padding-top: 8px;
  }

  .card-body {
    padding: 0px 0px 0px 0px;
    /* display: none; */
  }

  .fuel-gearbox {
    display: none;
  }

  .fuel-gearbox-mini {
    display: inline-block;
    border-bottom: 2px solid rgba(0,0,0,.20);
  }
}
/* </Tab3> */

</style>


<!-- <H1> ai ales {{ modelname }}</H1> -->

<form id="regForm">
    <!-- Circles which indicates the steps of the form: -->
    <div style="text-align:center;">
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
        <span class="step"></span>
      </div>
    <!-- One "tab" for each step in the form: -->
    <div class="tab">
      <div class="firsttab">
        <div class="firsttab-left">
          <div name="trimimage">
            {% for trim in trims %}
              <img class="imgshow" id="{{ trim.trim }}1" src="{{ trim.image.url }}">
            {% endfor %}
          </div>
        </div>
        <div class="firsttab-right">
          <h2 class="sub-title">Linii de echipare</h2>
          {% for trim in trims %}
                <button class="button1" type="button" value="{{ trim.trim }}" id="{{ trim.trim }}1" name="{{ trim.trim }}" style="width: 33%;" onclick="selectTrim(this.name, this.id)">
                    <h5 class="card-title">{{ trim.trim }}</h5>
                </button>
            {% endfor %}
            <p><input type="text" id="trim-1" name="trim" value="trim" hidden></p> 
        </div>
      </div>
    </div>
    <div class="tab">
        <h3>Combustibil:</h3>
        <div class="secondtab">
          <div class="checkbox-wrapper2">
            <label class="checkbox-label-simple" for="diesel"><input class="switch-input-simple" type="checkbox" id="diesel" name="fuel" value="Diesel">Diesel</label>
          </div>  
          <div class="checkbox-wrapper2">
            <label class="checkbox-label-simple" for="benzina"><input class="switch-input-simple" type="checkbox" id="benzina" name="fuel" value="Benzina">Benzina</label>
          </div>
          <div class="checkbox-wrapper2">
            <label class="checkbox-label-simple" for="hybrid"><input class="switch-input-simple" type="checkbox" id="hybrid" name="fuel" value="Hybrid" onclick="selectGearboxForHybrid(this.id)">Hybrid</label>
          </div>  
        </div>
        <h3>Cutie de viteze:</h3>
        <div class="secondtab">
          <div class="checkbox-wrapper2">
            <label class="checkbox-label-simple" for="manuala"><input class="switch-input-simple" type="checkbox" id="manuala" name="gearbox" value="Manuala">Manuala</label>
          </div>
          <div class="checkbox-wrapper2">
            <label class="checkbox-label-simple" for="automata"><input class="switch-input-simple" type="checkbox" id="automata" name="gearbox" value="Automata">Automata</label>
          </div>
        </div>
    </div>
    <div class="tab">
      <div class="thirdtab">
        <div class="thirdtab-left">
          <!-- <div class="card-body"> -->
            <div class="card-deck">
                {% for drivetrainversion in drivetrainversions %}
                    <button type="button" class="version" value="{{ drivetrainversion.trim }}" id="{{ drivetrainversion.fuel }}-1" name="{{ drivetrainversion.gearbox }}-1" title="{{ drivetrainversion.name }}" data-versionid="{{ drivetrainversion.id }}" onclick="selectVersion(this.title, this.dataset.versionid)">
                        <div class="card-body">
                        <h5 class="card-title card-title2" style="text-align: center;">{{ drivetrainversion.name }}</h5>
                        <!-- <h6>{{ drivetrainversion.power }}</h6> -->
                        <h6 class="fuel-gearbox">{{ drivetrainversion.fuel }} | {{ drivetrainversion.gearbox }}</h6>
                        <!-- <h6>{{ drivetrainversion.id }}</h6> -->
                        <!-- <h6 style="text-align: right; color: rgb(189, 24, 24);"><del>{{ drivetrainversion.price }}</del></h6> -->
                        <!-- <h6 style="text-align: right; color: rgb(0, 133, 60);">{{ drivetrainversion.average_price }}</h6> -->
                    </button>
                {% endfor %}
                <p><input type="text" id="trim-2" name="version" value="Trim" hidden></p> 
            </div>
          <!-- </div> -->
        </div>
        <div class="thirdtab-right">
          <div class="defaultversion">
            <h2>Selecteaza motorizarea ideala nevoilor tale</h2>
          </div>
          {% for drivetrainversion in drivetrainversions %}
            <div class="drivetraininfo" value="{{ drivetrainversion.trim }}" id="{{ drivetrainversion.fuel }}-1" name="{{ drivetrainversion.gearbox }}-1" title="{{ drivetrainversion.name }}" data-versionid="{{ drivetrainversion.id }}">
              <h1>{{ drivetrainversion.name }}</h1>
              <br>
              <br>
              <!-- TODO: add economy on drivetrainversion model -->
              <h4 class="fuel-gearbox-mini">{{ drivetrainversion.fuel }} | {{ drivetrainversion.gearbox }}</h4>
              <h4>Motorul dezvolta {{ drivetrainversion.power }} cu economia ...</h4>
              <!-- <h6>{{ drivetrainversion.id }}</h6> -->
              <br>
              <h6>Pretul de lista este:</h6>
              <h6 style="text-align: left; padding-left: 10%; color: rgb(189, 24, 24);"><del>{{ drivetrainversion.price }}</del></h6>
              <h6>Pretul mediu dupa reducerea din partea dealer-ului este:</h6>
              <h6 style="text-align: left; padding-left: 10%; color: rgb(0, 133, 60);">{{ drivetrainversion.average_price }}</h6>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <div class="tab">
      <h2>Configureaza versiunea ideala a masinii tale</h2>
      <br>
      <h4>Personalizeaza-ti masina cu vopseaua care te reprezinta</h4>
      <div class="colorpicker">
        <div class="column" style="padding: 0px;">
          <div class="colorpicker">
            <div class="column">
              <h5>Nu vrei sa alegi o culoare?</h5> 
              <div class="color-wrapper">
                <div class="checkbox-wrapper">
                  <label class="checkbox-label-simple" for="default">
                    <input class="switch-input-simple" type="checkbox" id="default" value="Nicio preferinta">
                    Orice culoare
                  </label>
                </div>
              </div>
            </div>
            <div class="column" style="border-right: none;">
              <h5 id="solid">Vopsea uni</h5>
              {% for color in colors %}
                {% if color.colortype == "Uni" %}
                <div class="checkbox-wrapper">
                  <label class="checkbox-label" for="{{ color.name }}1">
                    <input class="switch-input" type="checkbox" id="{{ color.name }}1" value="{{ color.name }}">
                    <img src="{{ color.image.url }}" class="paint-image">
                  </label>
                  <span class="tooltiptext">
                    {{ color.name }}
                    500$
                  </span>
                </div>
                {% endif %}
              {% endfor %}
            </div>
          </div>
        </div>
        <div class="column">
          <h5 id="metallic">Vopsea metalizata</h5>
          {% for color in colors %}
            {% if color.colortype == "Metalizata" %}
            <div class="checkbox-wrapper">
              <label class="checkbox-label" for="{{ color.name }}1">
                <input class="switch-input" type="checkbox" id="{{ color.name }}1" value="{{ color.name }}">
                <img src="{{ color.image.url }}" class="paint-image">
              </label>
              <span class="tooltiptext">
                {{ color.name }}
                500$
              </span>
            </div>
            {% endif %}
          {% endfor %}
        </div>

        <div class="column" style="border-right: none;">
          <h5 id="pearlescent">Vopsea perlata</h5>
          {% for color in colors %}
            {% if color.colortype == "Perlata" %}
            <div class="checkbox-wrapper">
              <label class="checkbox-label" for="{{ color.name }}1">
                <input class="switch-input" type="checkbox" id="{{ color.name }}1" value="{{ color.name }}">
                <img src="{{ color.image.url }}" class="paint-image">
              </label>
              <span class="tooltiptext">
                {{ color.name }}
                500$
              </span>
            </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <!-- </div> -->
      <br>
      <br>
      <h4>Selecteaza-ti optiunile care se potrivesc preferintelor tale</h4>
    </div>
    <div style="overflow:auto;">
      <div style="float:right;">
        <button type="button" id="prevBtn" onclick="nextPrev(-1)">Pasul precedent</button>
        <button type="button" id="nextBtn" onclick="nextPrev(1)">Pasul urmator</button>
      </div>
    </div>
</form>


  <script>
    var currentTab = 0; // Current tab is set to be the first tab (0)
    showTab(currentTab); // Display the current tab
    showImage(0, "blank");
    // showDrivetrain(0, "blank");

    function showImage(n, id) {
      var x = document.getElementsByClassName("imgshow");
      if (n == 0) {
        x[n].style.display = "block";
      }
      else {
        for (i = 0; i < x.length; i++) {
          if (x[i].style.display == "block") {
            x[i].style.display = "none";
          }
          if (x[i].id == id) {
            x[i].style.display = "block";
          }
        }
      }
    }

    function showDrivetrain(n, id) {
      // var d = document.getElementsByClassName("defaultversion")
      // d[0].style.display= "none"; 
      document.getElementsByClassName("defaultversion")[0].style.display = "none";
      var x = document.getElementsByClassName("drivetraininfo");
      if (n == 0) {
        x[n].style.display = "block";
      }
      else {
        for (i = 0; i < x.length; i++) {
          // this is inefficient
          if (x[i].style.display == "block") {
            x[i].style.display = "none";
          }
          if (x[i].dataset.versionid == id) {
            x[i].style.display = "block";
          }
        }
      }
    }

    function showTab(n) {
      // This function will display the specified tab of the form...
      var x = document.getElementsByClassName("tab");
      x[n].style.display = "block";
      //... and fix the Previous/Next buttons:
      if (n == 0) {
        document.getElementById("prevBtn").style.display = "none";
      } else {
        document.getElementById("prevBtn").style.display = "inline";
      }
      if (n == (x.length - 1)) {
        document.getElementById("nextBtn").innerHTML = "Submit";
      } else {
        document.getElementById("nextBtn").innerHTML = "Next";
      }
      //... and run a function that will display the correct step indicator:
      fixStepIndicator(n)
    }
    
    function nextPrev(n) {
      // This function will figure out which tab to display
      var x = document.getElementsByClassName("tab");
      // Exit the function if any field in the current tab is invalid:
      if (n == 1 && !validateForm()) return false;
      // Hide the current tab:
      x[currentTab].style.display = "none";
      // Increase or decrease the current tab by 1:
      currentTab = currentTab + n;
      // if you have reached the end of the form...
      if (currentTab >= x.length) {
        // ... the form gets submitted:
        document.getElementById("regForm").submit();
        return false;
      }
      // Hide unwanted car results
      if (currentTab == 2) {
        if (hideUnselectedOptions() == 1) {
          currentTab = currentTab - n;
        }
      }

      // if (currentTab == 3) {
        // showDrivetrain(0, "blank");
      // }
      showTab(currentTab);
      // Otherwise, display the correct tab:
    }
    
    function validateForm() {
      // This function deals with validation of the form fields
      var x, y, i, valid = true;
      x = document.getElementsByClassName("tab");
      y = x[currentTab].getElementsByTagName("input");
      // A loop that checks every input field in the current tab:
    
    
      for (i = 0; i < y.length; i++) {
        // If a field is empty...
        if (y[i].value == "") {
          // add an "invalid" class to the field:
          y[i].className += " invalid";
          // and set the current valid status to false
          valid = false;
        }
      }

      // If the valid status is true, mark the step as finished and valid:
      if (valid) {
        document.getElementsByClassName("step")[currentTab].className += " finish";
      }

      return valid; // return the valid status
    }
    
    function fixStepIndicator(n) {
      // This function removes the "active" class of all steps...
      var i, x = document.getElementsByClassName("step");
      for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
      }
      //... and adds the "active" class on the current step:
      x[n].className += " active";
    }

        function selectTrim(trim, id) {
            document.getElementById("trim-1").value = trim;
            showImage(1, id);
        }

        function selectGearboxForHybrid(fuel) {
            document.getElementById("automata").checked = true;
            document.getElementById("manuala").disabled = true;
        }

        function selectVersion(version, id) {
          document.getElementById("trim-2").value = version;
          showDrivetrain(1, id);
        }


        function hideUnselectedOptions() {
          if(!document.getElementById("diesel").checked && !document.getElementById("benzina").checked && !document.getElementById("hybrid").checked && !document.getElementById("manuala").checked && !document.getElementById("automata").checked) {
            alert("Te rog selecteaza tipul de combustibil si tipul cutiei de viteze dorite");
            return 1;
          }

          if(!document.getElementById("diesel").checked && !document.getElementById("benzina").checked && !document.getElementById("hybrid").checked) {
            alert("Te rog selecteaza tipul de combustibil dorit");
            return 1;
          }

          if(!document.getElementById("manuala").checked && !document.getElementById("automata").checked) {
            alert("Te rog selecteaza tipul cutiei de viteze dorita");
            return 1;
          }

          var list = document.getElementsByClassName("version");
          var list2 = document.getElementsByClassName("drivetraininfo");
          var trim = document.getElementById("trim-1").value;
          for (var i = 0; i < list.length; i++){
            if (list[i].value != trim) {
              list[i].style.display = "none";
              list2[i].style.display = "none";
            }
          }

          if (!document.getElementById("diesel").checked) {
            for (var i = 0; i < list.length; i++){
              if (list[i].id == "Diesel-1") {
                list[i].style.display = "none";
                list2[i].style.display = "none";
              }
            }
          }

          if (!document.getElementById("benzina").checked) {
            for (var i = 0; i < list.length; i++){
              if (list[i].id == "Benzina-1") {
                list[i].style.display = "none";
                list2[i].style.display = "none";
              }
            }
          }

          if (!document.getElementById("hybrid").checked) {
            for (var i = 0; i < list.length; i++){
              if (list[i].id == "Hybrid-1") {
                list[i].style.display = "none";
                list2[i].style.display = "none";
              }
            }
          }

          if (!document.getElementById("manuala").checked) {
            for (var i = 0; i < list.length; i++){
              if (list[i].name == "Manuala-1") {
                list[i].style.display = "none";
                list2[i].style.display = "none";
              }
            }
          }

          if (!document.getElementById("automata").checked) {
            for (var i = 0; i < list.length; i++){
              if (list[i].name == "Automata-1") {
                list[i].style.display = "none";
                list2[i].style.display = "none";
              }
            }
          }


        }
    </script>


{% endblock %}